---
title: "Video Games"
author: "Octopi"
date: "10/24/2019"
output: github_document
---
### Section 1. Introduction

What are the criteria for a successful video game? In this project, we will use data analysis to determine which qualities are likely to improve the popularity and ranking of a video game.

The dataset came from vgchartz.com, an industry research firm that publishes worldwide game hardware and software sales, as well as over 40,000 game titles. The data was generated by a scrape of this website, selecting 11 variables and collecting data for video game sales. There are 16,598 records in the dataset, with each case representing a different video game. We have narrowed the data to represent only the top 100 video games, as well as taken a random sample of 100 video games to represent our "population" in hypothesis testing, bootstrap simulations, etc.

The variables of the dataset are listed below: 

Rank - Ranking of overall sales

Name - The game's name

Platform - Platform on which the game was released (i.e. PC,PS4, etc.)

Year - Year of the game's release

Genre - Genre of the game

Publisher - Publisher of the game

NA_Sales - Sales in North America (in millions)

EU_Sales - Sales in Europe (in millions)

JP_Sales - Sales in Japan (in millions)

Other_Sales - Sales in the rest of the world (in millions)

Global_Sales - Total worldwide sales.


### Section 2. Exploratory data analysis

### Load packages & data
```{r load-packages, message=FALSE}
#load necessary packages
library(tidyverse) 
library(broom)
```

```{r load-data, message=FALSE, warning=FALSE}
#load the datasets
set.seed(24601)
vgsales <- read_csv("/cloud/project/data/vgsales.csv")
vgsales_top_100 <- vgsales %>%
  head(100)
vgsales_random_100 <- sample_n(vgsales, 100)
```

```{r proportion-of-top_100-sold-by-publisher}
#calculate proportion of top publishers by games sold 
Publisher_prop <- vgsales_top_100 %>%
  group_by(Publisher) %>%
  count(Publisher) %>%
  mutate(sales_proportion = n/nrow(vgsales_top_100))
Publisher_prop %>%
  arrange(desc(n))
```

```{r highest-selling-publisher-geo}
#calculate top five sales by publisher per country
NA_total <- vgsales_top_100 %>%
  group_by(Publisher) %>%
  summarise(sum = sum(NA_Sales)) %>%
  arrange(desc(sum))
NA_total

EU_total <- vgsales_top_100 %>%
  group_by(Publisher) %>%
  summarise(sum = sum(EU_Sales)) %>%
  arrange(desc(sum))
EU_total

JP_total <- vgsales_top_100 %>%
  group_by(Publisher) %>%
  summarise(sum = sum(JP_Sales)) %>%
  arrange(desc(sum)) 
JP_total

Global_total <- vgsales_top_100 %>%
  group_by(Publisher) %>%
  summarise(sum = sum(Global_Sales)) %>%
  arrange(desc(sum))
Global_total
```

We calculated for the top video game publishers globally and for North America, Europe, and Japan. While Nintendo remained the lead publisher for all of these locations, the other publishers changed ranking when we looked at our three regions individually. This result suggests that certain publishers may be more successful in different geographic regions.

```{r genre-distribution}
#plot bar graph representing the distribution of games per genre
ggplot(data = vgsales_top_100, mapping = aes(x = Genre))+
  geom_bar()+
  coord_flip() +
  xlab("Game Genres")+
  ylab("Count of Games in that Genre ")+
  ggtitle("Number of Games per Genre")
```

Here, we have created a visualization for the distribtuion of the top 100 video games based on there genres.  As you can see from the visualization, our bar graph is unimodal, with shooter being the genre of most copies sold.

```{r proportion-per-platform}
#calculated the proportion of platforms 
platform_prop <- vgsales_top_100 %>%
  group_by(Platform) %>%
  count(Platform) %>%
  mutate(sales_proportion = n/nrow(vgsales_top_100))
platform_prop %>%
  arrange(desc(n))
```

Similarly, we calculated for the top genres and platforms. Since the popularity of publishers changed based on geographic location, we are curious to find whether the top genres and platforms will also change based on where their sales occur.

### Section 3. Research questions

1. What criteria (publishers, plaftorms, etc) make for successful video games in terms of global sales? What criteria make for successful video game publishers in terms of global sales?

2. What are the overall trends of sales through time and space (geographic region) for video games released after 1980?

### Section 4. Data

```{r glimpse-of-data}
#provided glimpse of our data
glimpse(vgsales_top_100)
```


Below is the visualization for Global VideoGames based on the Year of Release
``` {r visualize_dist}
vgsales_top_100 %>%
    group_by(Year) %>%
    summarize(Sales = sum(Global_Sales, na.rm = TRUE)) %>%
    ggplot(aes(x = Year, y = Sales)) +
    geom_col() +
  coord_flip() +
    labs(title = "Global Sales Histograms", x = "Year", y = "Sales (units)")
```

Based on the above histogram, the year with the most 

```{r test-abby}
vgsales %>%
  count(Genre)
```

